{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  shelters: [],\n  selectedShelter: null,\n  isLoading: false,\n  error: null\n};\nconst sheltersSlice = createSlice({\n  name: 'shelters',\n  initialState,\n  reducers: {\n    setShelters: (state, action) => {\n      state.shelters = action.payload;\n    },\n    setSelectedShelter: (state, action) => {\n      state.selectedShelter = action.payload;\n    },\n    updateShelterCapacity: (state, action) => {\n      var _state$selectedShelte;\n      const shelter = state.shelters.find(s => s.id === action.payload.shelterId);\n      if (shelter) {\n        shelter.currentOccupancy = action.payload.currentOccupancy;\n      }\n      if (((_state$selectedShelte = state.selectedShelter) === null || _state$selectedShelte === void 0 ? void 0 : _state$selectedShelte.id) === action.payload.shelterId) {\n        state.selectedShelter.currentOccupancy = action.payload.currentOccupancy;\n      }\n    },\n    setLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    }\n  }\n});\nexport const {\n  setShelters,\n  setSelectedShelter,\n  updateShelterCapacity,\n  setLoading,\n  setError\n} = sheltersSlice.actions;\nexport default sheltersSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","shelters","selectedShelter","isLoading","error","sheltersSlice","name","reducers","setShelters","state","action","payload","setSelectedShelter","updateShelterCapacity","_state$selectedShelte","shelter","find","s","id","shelterId","currentOccupancy","setLoading","setError","actions","reducer"],"sources":["C:/Users/David/try/pet-adoption-platform/frontend/src/store/slices/sheltersSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport interface Shelter {\r\n  id: string;\r\n  name: string;\r\n  address: string;\r\n  phone: string;\r\n  email: string;\r\n  capacity: number;\r\n  currentOccupancy: number;\r\n  description: string;\r\n  imageUrl: string;\r\n}\r\n\r\nexport interface SheltersState {\r\n  shelters: Shelter[];\r\n  selectedShelter: Shelter | null;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: SheltersState = {\r\n  shelters: [],\r\n  selectedShelter: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst sheltersSlice = createSlice({\r\n  name: 'shelters',\r\n  initialState,\r\n  reducers: {\r\n    setShelters: (state, action: PayloadAction<Shelter[]>) => {\r\n      state.shelters = action.payload;\r\n    },\r\n    setSelectedShelter: (state, action: PayloadAction<Shelter | null>) => {\r\n      state.selectedShelter = action.payload;\r\n    },\r\n    updateShelterCapacity: (state, action: PayloadAction<{ shelterId: string; currentOccupancy: number }>) => {\r\n      const shelter = state.shelters.find(s => s.id === action.payload.shelterId);\r\n      if (shelter) {\r\n        shelter.currentOccupancy = action.payload.currentOccupancy;\r\n      }\r\n      if (state.selectedShelter?.id === action.payload.shelterId) {\r\n        state.selectedShelter.currentOccupancy = action.payload.currentOccupancy;\r\n      }\r\n    },\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setError: (state, action: PayloadAction<string | null>) => {\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setShelters, setSelectedShelter, updateShelterCapacity, setLoading, setError } = sheltersSlice.actions;\r\nexport default sheltersSlice.reducer; "],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAqB7D,MAAMC,YAA2B,GAAG;EAClCC,QAAQ,EAAE,EAAE;EACZC,eAAe,EAAE,IAAI;EACrBC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,aAAa,GAAGN,WAAW,CAAC;EAChCO,IAAI,EAAE,UAAU;EAChBN,YAAY;EACZO,QAAQ,EAAE;IACRC,WAAW,EAAEA,CAACC,KAAK,EAAEC,MAAgC,KAAK;MACxDD,KAAK,CAACR,QAAQ,GAAGS,MAAM,CAACC,OAAO;IACjC,CAAC;IACDC,kBAAkB,EAAEA,CAACH,KAAK,EAAEC,MAAqC,KAAK;MACpED,KAAK,CAACP,eAAe,GAAGQ,MAAM,CAACC,OAAO;IACxC,CAAC;IACDE,qBAAqB,EAAEA,CAACJ,KAAK,EAAEC,MAAsE,KAAK;MAAA,IAAAI,qBAAA;MACxG,MAAMC,OAAO,GAAGN,KAAK,CAACR,QAAQ,CAACe,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKR,MAAM,CAACC,OAAO,CAACQ,SAAS,CAAC;MAC3E,IAAIJ,OAAO,EAAE;QACXA,OAAO,CAACK,gBAAgB,GAAGV,MAAM,CAACC,OAAO,CAACS,gBAAgB;MAC5D;MACA,IAAI,EAAAN,qBAAA,GAAAL,KAAK,CAACP,eAAe,cAAAY,qBAAA,uBAArBA,qBAAA,CAAuBI,EAAE,MAAKR,MAAM,CAACC,OAAO,CAACQ,SAAS,EAAE;QAC1DV,KAAK,CAACP,eAAe,CAACkB,gBAAgB,GAAGV,MAAM,CAACC,OAAO,CAACS,gBAAgB;MAC1E;IACF,CAAC;IACDC,UAAU,EAAEA,CAACZ,KAAK,EAAEC,MAA8B,KAAK;MACrDD,KAAK,CAACN,SAAS,GAAGO,MAAM,CAACC,OAAO;IAClC,CAAC;IACDW,QAAQ,EAAEA,CAACb,KAAK,EAAEC,MAAoC,KAAK;MACzDD,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,WAAW;EAAEI,kBAAkB;EAAEC,qBAAqB;EAAEQ,UAAU;EAAEC;AAAS,CAAC,GAAGjB,aAAa,CAACkB,OAAO;AACrH,eAAelB,aAAa,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}